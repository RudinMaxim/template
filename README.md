# Руководство по проекту

## 0. Запуск проекта

Для запуска проекта выполните следующие команды:

```bash
git clone https://github.com/your-username/your-project.git
npm install
git checkout -b feature/your-feature
npm run dev
```

Проект будет доступен по адресу [http://localhost:3000](http://localhost:3000)

## 1. Архитектура

Проект следует принципам Feature-Sliced Design (FSD). Основные слои:

- `app`: страница приложения
- `entities`: бизнес-сущности
- `features`: бизнес-функции приложения
- `shared`: переиспользуемые компоненты и утилиты
- `style`: глобальные стили
- `widgets`: компоненты, которые не являются частью бизнес-функций

> Прочитайте [официальную документацию](https://feature-sliced.design/docs/get-started/overview) для более подробной информации.

## 2. Управление элементами проекта

### Создание нового элемента

Для создания нового элемента в проекте используйте следующую команду:

```bash
npm run create:element
```

После запуска команды следуйте инструкциям в интерактивном режиме:

1. Выберите тип компонента (entity, feature, ui, widget, page, api).
2. Введите имя компонента (для UI и widget) или маршрут (для page и api).
3. Если вы создаете UI компонент или виджет, вам будет предложено выбрать, нужен ли хук для компонента.

Скрипт автоматически создаст необходимые файлы и структуру папок для выбранного элемента.

### Получение списка элементов

Чтобы получить список существующих элементов, используйте команду:

```bash
npm run lister:element
```

Эта команда отобразит список всех созданных элементов в проекте, сгруппированных по типам.

### Удаление элемента

Для удаления существующего элемента используйте команду:

```bash
npm run remover:element
```

Следуйте инструкциям в интерактивном режиме, чтобы выбрать элемент для удаления. Будьте осторожны, так как эта операция необратима.

### Шпаргалка: Куда добавлять сущности

При создании новых элементов в проекте следуйте этим рекомендациям:

1. **Entities (сущности)**:

   - Путь: `src/entities`
   - Используйте для базовых бизнес-сущностей (например, User, Product, Order).
   - Содержит модель данных, компоненты для отображения, связанные хуки.

2. **Features (фичи)**:

   - Путь: `src/features`
   - Используйте для функциональных возможностей, которые могут быть переиспользованы в разных частях приложения (например, AuthForm, ProductSearch).
   - Содержит компоненты, логику и состояние, специфичные для конкретной функциональности.

3. **UI компоненты**:

   - Путь: `src/shared/ui`
   - Используйте для переиспользуемых UI компонентов (например, Button, Input, Modal).
   - Не должны содержать бизнес-логику.

4. **Widgets (виджеты)**:

   - Путь: `src/widgets`
   - Используйте для более крупных составных компонентов, которые могут включать в себя несколько entities и features (например, UserProfileWidget, ShoppingCartWidget).

5. **Pages (страницы)**:

   - Путь: `src/app/(pages)`
   - Используйте для создания страниц приложения.
   - Обычно композиция из widgets, features и entities.

6. **API routes**:
   - Путь: `src/app/api`
   - Используйте для создания API эндпоинтов в Next.js приложении.

Помните, что структура проекта должна способствовать повторному использованию кода и облегчать навигацию. При создании нового элемента всегда задавайте себе вопрос: "Где этот элемент будет использоваться и насколько он переиспользуем?"

## 3. Руководство по стилям проекта

### Обзор

В нашем проекте мы используем SCSS в сочетании с методологией BEM для создания масштабируемой и поддерживаемой системы стилей. Глобальные стили служат основой для всего проекта, обеспечивая консистентность и облегчая разработку.

> Прочитай тему [SCSS](https://sass-lang.com/documentation/syntax) и [BEM](https://en.bem.info/methodology/quick-start/) для лучшего понимания.

### 2. Структура файлов

```
styles/
├── _variables.scss   # Глобальные переменные
├── _colors.scss      # Цветовая палитра
├── _mixins.scss      # Миксины
├── _functions.scss   # Функции
├── _reset.scss       # Сброс стилей
├── _typography.scss  # Типографика
├── _global.scss      # Глобальные стили
└── common.scss       # Основной файл, импортирующий все остальные
```

### Правила BEM (Block Element Modifier)

#### Правила именования

- Блок: `.block`
- Элемент: `.block__element`
- Модификатор: `.block--modifier` или `.block__element--modifier`

#### Пример SCSS с BEM

```scss
.button {
  padding: $spacing-sm $spacing-md;
  background-color: $color-primary;
  color: $color-white;

  &__icon {
    margin-right: $spacing-xs;
  }

  &--large {
    padding: $spacing-md $spacing-lg;
    font-size: $font-size-lg;
  }

  &--secondary {
    background-color: $color-secondary;
  }
}
```

#### Медиа-запросы

Используйте миксин `breakpoint` для создания адаптивных стилей:

```scss
.container {
  width: 100%;
  
  @include breakpoint(md) {
    max-width: 720px;
  }

  @include breakpoint(lg) {
    max-width: 960px;
  }
}
```

#### Адаптивность

Используйте миксин `responsive` для создания адаптивных стилей:

```scss
@include responsive(margin, 10px, 20px, 30px, null, 50px);
```

#### Лучшие практики

- Избегайте глубокой вложенности селекторов (не более 3 уровней).
- Используйте переменные для всех повторяющихся значений.
- Комментируйте сложные части кода.
- Группируйте медиа-запросы в конце селектора.
- Используйте миксины для повторяющихся групп свойств.

#### Производительность

- Избегайте излишне специфичных селекторов.
- Минимизируйте использование `!important`.
- Оптимизируйте и минифицируйте CSS перед продакшном.

Следуя этим правилам и рекомендациям, мы обеспечим консистентность, масштабируемость и удобство поддержки стилей в нашем проекте.


## 3. Именование

- Компоненты: PascalCase (например, `UserProfile.tsx`)
- Файлы утилит: camelCase (например, `formatDate.ts`)
- Константы: UPPER_SNAKE_CASE (например, `MAX_ITEMS`)
- CSS классы: kebab-case для BEM (например, `user-profile__avatar`)

## 4. Тестирование

Используем Jest и React Testing Library.

### Правила тестирования

- Каждый компонент должен иметь unit-тесты
- Называйте тестовые файлы `ComponentName.test.tsx`
- Группируйте тесты с помощью `describe`
- Используйте говорящие названия для тестов

Пример:

```typescript
import { render, screen } from '@testing-library/react';
import { Button } from './Button';

describe('Button', () => {
  it('renders with correct text', () => {
    render(<Button>Click me</Button>);
    expect(screen.getByText('Click me')).toBeInTheDocument();
  });
});
```
